{"version":3,"sources":["webpack:///./content/en/learn/Oracles/index.mdx","webpack:///./src/modules/layouts/mdx_layout.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","code","isMDXComponent","children","pageContext","uri","frontmatter","title","description","keywords","featuredImage","status","hideLanguageSelector","hideSidenav","hideBreadcrumbs","statusProps","text","currentTopSection","useLocation","pathname","split","hasTopSection","undefined","renderSidenav","seo","firstHeading","Children","toArray","find","c","getFirstHeading","pop","boundaryElement","sx","width","minWidth","display","dontUpdateHolderHeightWhenSticky","style","position","hideOnBoundaryHit","flexGrow","flexDirection","pl","mt","pb","pr","marginTop","sticky","justifyContent","alignItems","flexWrap","px","lineHeight","maxWidth","mb"],"mappings":"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","file":"component---content-en-learn-oracles-index-mdx-34d9047f892c71f1e699.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/community-portal/community-portal/src/modules/layouts/mdx_layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`Oracles`}</h1>\n    <p>{`An Oracle makes both off-chain and on-chain data available for use in smart-contracts. `}</p>\n    <p>{`In the Maker Protocol, Oracles enable the use of price data of various assets to determine a number of important things like when to Liquidate a Vault or how much Dai a given Vault can generate. `}</p>\n    <p>{`MakerDAO Oracles receive data from a number of independent Feeds that consist of individuals and organizations. Each Oracle corresponds to a single asset and its reference price.`}</p>\n    <p>{`For technical documentation, please visit the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module\"\n      }}>{`Oracle Module`}</a>{` section of our `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/\"\n      }}>{`Documentation Portal.`}</a></p>\n    <h2>{`How it Works`}</h2>\n    <p>{`In the Maker Protocol, each collateral type has a corresponding Oracle that publishes a reference price that the system uses. Each Oracle consists of an `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module/oracle-security-module-osm-detailed-documentation\"\n      }}>{`Oracle Security Module`}</a>{` and a `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module/median-detailed-documentation\"\n      }}>{`Medianizer.`}</a>{` The Medianizer is sent data through a system of Feeds and relayers.`}</p>\n    <p>{`Each Feed uses a tool called `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/makerdao/setzer-mcd\"\n      }}>{`Setzer`}</a>{` which pulls the median price from a set of exchanges and then pushes it to a `}<a parentName=\"p\" {...{\n        \"href\": \"https://scuttlebot.io/more/protocols/secure-scuttlebutt.html\"\n      }}>{`Secure Scuttlebut Network`}</a>{` that has relayers reading from it. Relayers aggregate the price data and send a transaction to the Medianizer. `}</p>\n    <p>{`The Medianizer then takes the median of the multiple reported medians and publishes it as a queued reference price. This price is then delayed by the Oracle Security Module before it is finally used by the system.`}</p>\n    <p>{`Feeds may configure Setzer to pull from any exchanges of their choosing. Relayers are able to configure parameters around when to push price data to the Medianizer. Only MKR governance can configure or change the Medianizer and Oracle Security Module.`}</p>\n    <h2>{`Security`}</h2>\n    <p>{`To defend against fraudulent price-data, the reporting is decentralized. There are multiple organizations and individuals who report price-data, they are called Feeds.`}</p>\n    <p>{`At the launch of Multi-Collateral Dai, Oracles received data from a total of 20 Feeds which consisted of 15 individuals and five public organizations.`}</p>\n    <p>{`Oracles use the median of the reported prices for each asset as the reference price. Using a median instead of an average makes it harder to manipulate the reference price since control over half of the data providers is needed in order for a fraudulent price to be pushed through.`}</p>\n    <p>{`Additionally, using a median naturally filters out irregular price data.`}</p>\n    <h3>{`Feeds`}</h3>\n    <p>{`Feeds are a mix of pseudonymous individuals and public organizations. Individuals consist of people internal to Maker, influential people in the greater crypto community, as well as some community members.`}</p>\n    <p>{`Organizations involved in being Feeds at the launch of MCD can be found in the ratified `}<a parentName=\"p\" {...{\n        \"href\": \"https://vote.makerdao.com/polling-proposal/qmpem83sxjjwe1jvn2csdtetn4r3j95ejuzpbmtxef4lu5\"\n      }}>{`DeFi Feeds proposal.`}</a></p>\n    <h3>{`Becoming a Feed`}</h3>\n    <p>{`All new Feeds go through `}<a parentName=\"p\" {...{\n        \"href\": \"https://community-development.makerdao.com/governance/governance\"\n      }}>{`MakerDAO’s governance`}</a>{` in order to be added in. There is currently no formal way for Feeds to be added to the Maker Protocol. `}</p>\n    <p>{`As of October 7th, 2019, the ratified `}<a parentName=\"p\" {...{\n        \"href\": \"https://vote.makerdao.com/polling-proposal/qmas1bqrquo2h41qv4fa8hpek9ukb7dlwtpkpn62r5hhmq\"\n      }}>{`Oracle Team Mandate`}</a>{` grants the Interim Oracle Team the responsibility of being the intermediary between the Feeds and governance. In the coming months, the process of becoming a Feed will become more clear.`}</p>\n    <h3>{`Oracle Security Module`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module/oracle-security-module-osm-detailed-documentation\"\n      }}>{`Oracle Security Module(OSM)`}</a>{` safeguards the process by delaying price-feed data for one hour.`}</p>\n    <p>{`Oracle Security Modules (OSMs) delay the publishing of new reference prices for a predefined set of time. This parameter is called the Oracle Security Module Delay and was set to be one hour at the launch of MCD. `}</p>\n    <p>{`This allows MKR token holders and other stakeholders the time to react to bugs or attacks on the Oracles. An OSM is active on each Oracle in the Maker Protocol.`}</p>\n    <p>{`This allows MKR governors and other stakeholders the time to identify bugs or attacks on the price-feed system. An OSM is active on all Oracles in the Maker Protocol.`}</p>\n    <h3>{`Medianizer`}</h3>\n    <p>{`A Medianizer is a type of smart-contract in the Maker Protocol’s Oracle system that collects price-data from Feeds and calculates a reference price by calculating a median.`}</p>\n    <p>{`The Medianizer maintains a white-list of Feeds that can be controlled by MakerDAO governance. Every time a new set of price updates is received, the reference price is recalculated and queued into the Oracle Security Module which publishes the price after a delay period.`}</p>\n    <p>{`Each time a relayer pushes a new set of medians to a Medianizer, it recalculates the median and updates the queued reference price in the Oracle Security Module(OSM). The OSM applies a time-delay and acts as the final publisher of the reference price.`}</p>\n    <p>{`For technical documentation, please visit the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module/median-detailed-documentation\"\n      }}>{`Medianizer`}</a>{` section of our `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/\"\n      }}>{`Documentation Portal.`}</a></p>\n    <h3>{`Secure Scuttlebutt Network`}</h3>\n    <p>{`Secure Scuttlebutt is a database protocol for unforgeable append-only message feeds. For more information on how a Secure Scuttlebut Network works visit this `}<a parentName=\"p\" {...{\n        \"href\": \"https://scuttlebot.io/more/protocols/secure-scuttlebutt.html\"\n      }}>{`informative page`}</a>{` on `}<a parentName=\"p\" {...{\n        \"href\": \"https://scuttlebot.io/\"\n      }}>{`scuttlebot.io.`}</a></p>\n    <h2>{`FAQs`}</h2>\n    <h3>{`Why are Oracles an attack target for malicious actors?`}</h3>\n    <p>{`In the Maker Protocol, if the reference price for an asset was determined by a single party, then they could fraudulently report an incorrect price and cause severe issues.`}</p>\n    <p>{`For instance, if the price of ETH was reported to be fraudulently low, say $0.01, then every single ETH `}<a parentName=\"p\" {...{\n        \"href\": \"/learn/vaults/\"\n      }}>{`Vault`}</a>{` in the system would be `}<a parentName=\"p\" {...{\n        \"href\": \"https://community-development.makerdao.com/makerdao-mcd-faqs/faqs/liquidation\"\n      }}>{`Liquidated.`}</a>{` `}</p>\n    <p>{`On the other hand, if the price of ETH was reported to be artificially high, say $1,000,000.00, then any ETH Vault owner would be able to issue an excessive amount of Dai since the system thinks there is more Collateral value than there actually is.`}</p>\n    <p>{`Oracle attacks can be very profitable for a successful attacker and can be very disruptive to MakerDAO and its users.`}</p>\n    <h3>{`How is privacy handled?`}</h3>\n    <p>{`From their onset, the individuals running Feeds have been pseudonymous out of necessity, to protect the individuals from the risk of extortion and blackmail. `}</p>\n    <p>{`Pseudonymous Feeds also have the benefit of making it harder to coordinate an Oracle attack since the Feeds don’t know who the others are. Organizations running Feeds, however, are different. `}</p>\n    <p>{`Organizations are much more resilient against coercion, have the resources to combat malicious actors, and have their reputations at stake. This makes them much better equipped to be Feeds with public identities. A hybrid model is optimal, one that incorporates the benefits of both individual and organizational Feeds.`}</p>\n    <h3>{`Is the oracle system Sybil-resistant?`}</h3>\n    <p>{`\"In a Sybil attack, the attacker subverts the reputation system of a peer-to-peer network by creating a large number of pseudonymous identities, using them to gain a disproportionately large influence. A reputation system's vulnerability to a Sybil attack depends on how cheaply identities can be generated, the degree to which the reputation system accepts inputs from entities that do not have a chain of trust linking them to a trusted entity, and whether the reputation system treats all entities identically.\" - `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Sybil_attack\"\n      }}>{`Wikipedia`}</a></p>\n    <p>{`The short answer is yes, the Oracle system is resistant to Sybil attacks because of the existence of a whitelist for Feeds. It's not simple to become a Feed, they need to be approved by MKR governance. Therefore, an attacker cannot gain a majority influence by creating many pseudo-feeds.`}</p>\n    <h3>{`What happens if there is a flash crash on an exchange?`}</h3>\n    <p>{`Since the reference price published by the Oracles is a median of the median prices that are reported by at least 20 different Feeds, outliers are automatically filtered out. `}</p>\n    <p>{`In practice, this means if a single exchange experiences a flash crash the set of prices will look something like this:`}</p>\n    <p>{`[0.70, 104.80, 104.82, `}<strong parentName=\"p\">{`104.88`}</strong>{`, 104.90, 105.02, 105.04]`}</p>\n    <p>{`The median of this set still reflects the real market price of the asset. Flash crashes on single exchanges do not affect the published reference price.`}</p>\n    <h3>{`Can MakerDAO governance change the time of the Oracle Security Module’s delay?`}</h3>\n    <p>{`Yes. This parameter is called the `}<inline code>{`Oracle Security Module Delay`}</inline>{` and can be adjusted by MKR token holders.`}</p>\n    <h2>{`Technical Docs`}</h2>\n    <p>{`Technical documentation of Oracles can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/oracle-module\"\n      }}>{`Oracle Module`}</a>{` section of our `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/\"\n      }}>{`Documentation Portal.`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","/** @jsx jsx */\nimport {Children, Fragment} from 'react';\nimport { Box, Flex, jsx } from \"theme-ui\";\nimport Sticky from \"react-sticky-el\";\nimport { useLocation } from \"@reach/router\";\n\nimport { LanguageSelector } from \"@modules/localization\";\nimport { Sidenav, Breadcrumbs } from \"@modules/navigation\";\nimport { StatusBanner } from \"@modules/ui\";\nimport { SEO } from \"@modules/utility\";\n\n\nexport default (props) => {\n  const { children, pageContext, uri } = props;\n  const {\n    title,\n    description,\n    keywords,\n    featuredImage,\n    status,\n    hideLanguageSelector,\n    hideSidenav,\n    hideBreadcrumbs,\n  } = pageContext.frontmatter;\n\n  const statusProps =\n    typeof status === \"object\"\n      ? { children: status.text, ...status }\n      : { children: status };\n\n  const { pathname } = useLocation();\n  const path = pathname.split(\"/\");\n  const currentTopSection = path[2];\n\n  //For the sake of SEO we may want the page title to be based on the first h1 in our MDX file.\n  //if no title is specified in the metadata.\n  const getFirstHeading = () => {\n    //NOTE(Rejon): The children of layouts provided are MDX components!\n    //Find the first mdx child that's an H1\n    const firstHeading = Children.toArray(children).find(\n      (c) => c.props.mdxType === \"h1\"\n    );\n\n    //If we have an h1 in our file return it.\n    if (firstHeading !== undefined) {\n      return firstHeading.props.children;\n    }\n\n    return undefined;\n  };\n\n  //SEO page title priority is: frontmatter title -> First H1 in mdx -> Filename fallback from uri\n  //NOTE(Rejon): If the page is an index of a directory, the uri split will be the name of the directory. ie. /en/bounties -> bounties\n  const _pageTitle = title || getFirstHeading() || uri.split(\"/\").pop();\n\n  const hasTopSection =\n    currentTopSection !== undefined && currentTopSection !== \"\";\n  const renderSidenav = hasTopSection && !hideSidenav;\n\n  const seo = {\n    title: _pageTitle,\n    description,\n    keywords,\n    featuredImage,\n  };\n\n  return (\n    <Fragment>\n      <SEO {...seo} />\n      {renderSidenav && (\n        <Sticky\n          boundaryElement=\".content-boundary\"\n          sx={{\n            width: \"20%\",\n            minWidth: \"260px\",\n            display: [\"none\", \"none\", \"initial\"],\n          }}\n          dontUpdateHolderHeightWhenSticky={true}\n          style={{ position: \"relative\" }}\n          hideOnBoundaryHit={false}\n        >\n          <Sidenav />\n        </Sticky>\n      )}\n\n      <Flex sx={{ flexGrow: 1, flexDirection: \"column\" }}>\n        <article\n          sx={{\n            pl: hasTopSection ? [4, 4, \"64px\"] : 0,\n            mt: hasTopSection ? [4, 4, \"59px\"] : 0,\n            pb: 4,\n            pr: hasTopSection ? 4 : 0,\n          }}\n        >\n          {status && (\n            <Box sx={{ marginTop: hasTopSection ? 2 : 0 }}>\n              <StatusBanner sticky {...statusProps} sx={{ width: \"100%\" }} />\n            </Box>\n          )}\n          {(!hideBreadcrumbs || (hasTopSection && !hideLanguageSelector)) && (\n            <Flex\n              sx={{\n                justifyContent: \"space-between\",\n                position: \"relative\",\n                alignItems: \"flex-start\",\n                flexWrap: [\"wrap\", \"wrap\", \"unset\"],\n                mt: !renderSidenav ? \"2rem\" : \"\",\n                px: !hasTopSection ? [3, 3, 0] : 0,\n              }}\n            >\n              {!hideBreadcrumbs && <Breadcrumbs />}\n              {hasTopSection && !hideLanguageSelector && <LanguageSelector />}\n            </Flex>\n          )}\n          <Box\n            sx={\n              hasTopSection && !hideLanguageSelector\n                ? {\n                    \"& > *:nth-of-type(1)\": {\n                      lineHeight: \"normal\",\n                    },\n                    \"& > *:nth-of-type(1), & > *:nth-of-type(2)\": {\n                      maxWidth: [\"100%\", \"100%\", \"calc(100% - 234px - 1rem)\"],\n                    },\n                    \"& > *:nth-of-type(2)\": { mb: \"32px\" },\n                  }\n                : {}\n            }\n          >\n            {children}\n          </Box>\n        </article>\n      </Flex>\n    </Fragment>\n  );\n};\n"],"sourceRoot":""}